(this["webpackJsonpproject-4"]=this["webpackJsonpproject-4"]||[]).push([[0],{238:function(e,t,n){},241:function(e,t,n){},246:function(e,t){},380:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(48),i=n.n(o),r=(n(238),n(46)),s=n.n(r),p=n(71),d=n(9),l=n(25),u=n(3),m=n(7),f=n(196),b=n(411),j=n(412),O=n(223),h=(n(240),"\n  query ListNotes(\n    $filter: ModelNoteFilterInput\n    $limit: Int\n    $nextToken: String\n  ) {\n    listNotes(filter: $filter, limit: $limit, nextToken: $nextToken) {\n      items {\n        id\n        clientId\n        name\n        description\n        completed\n        createdAt\n        updatedAt\n      }\n      nextToken\n    }\n  }\n"),y="\n  mutation CreateNote(\n    $input: CreateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    createNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",g="\n  mutation UpdateNote(\n    $input: UpdateNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    updateNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",x="\n  mutation DeleteNote(\n    $input: DeleteNoteInput!\n    $condition: ModelNoteConditionInput\n  ) {\n    deleteNote(input: $input, condition: $condition) {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n",v=(n(241),n(413)),N=n(21),E={container:{padding:20,display:"flex"},input:{marginBottom:10},item:{textAlign:"left"},p:{color:"#1890ff"}},T=Object(v.a)();function C(){var e={notes:[],loading:!0,error:!1,form:{name:"",description:""},hideCompleted:!1},t=Object(c.useReducer)((function(t,n){switch(n.type){case"SET_NOTES":return Object(u.a)(Object(u.a)({},t),{},{notes:n.notes,loading:!1});case"ERROR":return Object(u.a)(Object(u.a)({},t),{},{loading:!1,error:!0});case"ADD_NOTE":return Object(u.a)(Object(u.a)({},t),{},{notes:[n.note].concat(Object(l.a)(t.notes))});case"RESET_FORM":return Object(u.a)(Object(u.a)({},t),{},{form:e.form});case"SET_INPUT":return Object(u.a)(Object(u.a)({},t),{},{form:Object(u.a)(Object(u.a)({},t.form),{},Object(d.a)({},n.name,n.value))});case"TOGGLE_COMPLETED":return Object(u.a)(Object(u.a)({},t),{},{hideCompleted:!t.hideCompleted});default:return t}}),e),n=Object(m.a)(t,2),a=n[0],o=n[1];function i(){return(i=Object(p.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.graphql({query:h});case 3:t=e.sent,o({type:"SET_NOTES",notes:t.data.listNotes.items}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error: ",e.t0),o({type:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function r(){return(r=Object(p.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=a.form).name&&t.description){e.next=3;break}return e.abrupt("return",alert("please enter a name and description"));case 3:return n=Object(u.a)(Object(u.a)({},t),{},{clientId:T,completed:!1,id:Object(v.a)()}),o({type:"ADD_NOTE",note:n}),o({type:"RESET_FORM"}),e.prev=6,e.next=9,f.a.graphql({query:y,variables:{input:n}});case 9:console.log("successfully created note!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("error: ",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function C(){return(C=Object(p.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.notes.findIndex((function(e){return e.id===t.id})),(c=Object(l.a)(a.notes))[n].completed=!t.completed,o({type:"SET_NOTES",notes:c}),e.prev=4,e.next=7,f.a.graphql({query:g,variables:{input:{id:t.id,completed:c[n].completed}}});case 7:console.log("note successfully updated!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log("error: ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function I(){return(I=Object(p.a)(s.a.mark((function e(t){var n,c,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,c=a.notes.findIndex((function(e){return e.id===n})),i=[].concat(Object(l.a)(a.notes.slice(0,c)),Object(l.a)(a.notes.slice(c+1))),o({type:"SET_NOTES",notes:i}),e.prev=4,e.next=7,f.a.graphql({query:x,variables:{input:{id:n}}});case 7:console.log("successfully deleted note!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log({err:e.t0});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}function _(e){o({type:"SET_INPUT",name:e.target.name,value:e.target.value})}Object(c.useEffect)((function(){!function(){i.apply(this,arguments)}();var e=f.a.graphql({query:"\n  subscription OnCreateNote {\n    onCreateNote {\n      id\n      clientId\n      name\n      description\n      completed\n      createdAt\n      updatedAt\n    }\n  }\n"}).subscribe({next:function(e){var t=e.value.data.onCreateNote;T!==t.clientId&&o({type:"ADD_NOTE",note:t})}});return function(){return e.unsubscribe()}}),[]);return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{style:{width:"100%",textAlign:"center",color:"#1890ff"},children:[Object(N.jsx)(j.a,{type:"checkbox",onChange:function(e){o({type:"TOGGLE_COMPLETED"})},style:{display:"inline",width:"30px",verticalAlign:"middle"}}),a.hideCompleted?"Show Completed":"Hide Completed"]}),Object(N.jsxs)("div",{style:E.container,children:[Object(N.jsx)(b.b,{style:{width:"100%",paddingRight:"1rem"},loading:a.loading,dataSource:a.notes,renderItem:function(e){return e.completed&&a.hideCompleted?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(b.b.Item,{style:E.item,actions:[Object(N.jsx)("p",{style:E.p,onClick:function(){return function(e){return I.apply(this,arguments)}(e)},children:"Delete"}),Object(N.jsx)("p",{style:E.p,onClick:function(){return function(e){return C.apply(this,arguments)}(e)},children:e.completed?"completed":"mark completed"})],children:Object(N.jsx)(b.b.Item.Meta,{title:e.name,description:e.description})})}}),Object(N.jsxs)("div",{style:{paddingLeft:"1rem"},children:[Object(N.jsx)(j.a,{onChange:_,value:a.form.name,placeholder:"Note Name",name:"name",style:E.input}),Object(N.jsx)(j.a,{onChange:_,value:a.form.description,placeholder:"Note description",name:"description",style:E.input}),Object(N.jsx)(O.a,{onClick:function(){return r.apply(this,arguments)},type:"primary",children:"Create Note"})]})]})]})}var I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,415)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},_={aws_project_region:"us-east-2",aws_appsync_graphqlEndpoint:"https://ovcujvpuqbe75cpmz3ndjw4yuu.appsync-api.us-east-2.amazonaws.com/graphql",aws_appsync_region:"us-east-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-atzfvdcnczhu5iis2ifiainyue"};n(151).default.configure(_),i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(C,{})}),document.getElementById("root")),I()}},[[380,1,2]]]);
//# sourceMappingURL=main.d3a32ea4.chunk.js.map